function getMousePos(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}var positions={front:[268,163,255,561]},canmove=0,pos=[];$(function(){function e(e){if(canmove){var t=getMousePos(canvas,e);pony.translate[0]=t.x-positions.front[0]*pony.scale-pos[0],pony.translate[1]=t.y-positions.front[1]*pony.scale-pos[1],$(".bodyPosition").text("X: "+pony.translate[0]+"; Y: "+pony.translate[1]),pony.spawnPony()}}function t(t){var n=getMousePos(canvas,t);n.x>pony.translate[0]+positions.front[0]*pony.scale&n.x<pony.translate[0]+(positions.front[0]+positions.front[2])*pony.scale&n.y>pony.translate[1]+positions.front[1]*pony.scale&n.y<pony.translate[1]+(positions.front[1]+positions.front[3])*pony.scale&&(canmove=!0,pos[0]=n.x-pony.translate[0]-positions.front[0]*pony.scale,pos[1]=n.y-pony.translate[1]-positions.front[1]*pony.scale,pony.translate[0]=n.x-positions.front[0]*pony.scale-pos[0],pony.translate[1]=n.y-positions.front[1]*pony.scale-pos[1],pony.spawnPony(),canvas.onmousemove=e)}function n(e){canmove=!1;var t=getMousePos(canvas,e);canvas.onmousemove=null}canvas.addEventListener("mousemove",function(e){var t=getMousePos(canvas,e);t.x>pony.translate[0]+positions.front[0]*pony.scale&t.x<pony.translate[0]+(positions.front[0]+positions.front[2])*pony.scale&t.y>pony.translate[1]+positions.front[1]*pony.scale&t.y<pony.translate[1]+(positions.front[1]+positions.front[3])*pony.scale?$("#ctx").addClass("ctxSelect"):$("#ctx").removeClass("ctxSelect")},!1),canvas.onmousedown=t,canvas.onmouseup=n})