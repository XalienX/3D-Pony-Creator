{"ts":1363075628336,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1363075765160,"patch":[[{"diffs":[[1,"var load = (function(){\n    function loadFile() {\n\n    var files = document.getElementById('loadInput').files;\n    \n    var file = files[0];\n    var start = 0;\n    var stop = file.size - 1;\n\n    var reader = new FileReader();\n\n    reader.onloadend = function(evt) {\n      if (evt.target.readyState == FileReader.DONE) { \n      \n        try\n        {\n            var output = JSON.parse(evt.target.result);\n            \n            if(typeof(output.name) != \"undefined\")\n             loadData.name = output.name;\n            else throw \"Invalid File (name)\";\n            \n            if(typeof(output.author) != \"undefined\")\n            loadData.author = output.author;\n            else throw \"Invalid File (author)\";\n            \n            if(typeof(output.position) != \"undefined\")\n            loadData.position = output.position;\n            else throw \"Invalid File (position)\";\n            \n            if(typeof(output.colorBody) != \"undefined\")\n            loadData.colorBody = output.colorBody;\n            else throw \"Invalid File (colorBody)\";\n            \n            if(typeof(output.colorOutline) != \"undefined\")\n            loadData.colorOutline = output.colorOutline;\n            else throw \"Invalid File (colorOutline)\";\n            \n            if(typeof(output.bgname) != \"undefined\")\n            loadData.bgname = output.bgname;\n            else throw \"Invalid File\";\n            \n            loadData.valid = 1;\n            \n            $(\"#loadPreview\").text('');\n            $(\"#loadPreview\").append(\"<p>Name: \"+output.name+\"</p>\");\n            $(\"#loadPreview\").append(\"<p>Author: \"+output.author+\"</p>\");\n            $(\"#loadPreview\").append(\"<p>Position: \"+output.position.x+\",\"+output.position.y+\",\"+output.position.z+\"</p>\");\n            $(\"#loadPreview\").append('<p>ColorBody: <span style=\"color: '+output.colorBody+';\">'+output.colorBody+'</span></p>');\n            $(\"#loadPreview\").append('<p>ColorOutline: <span style=\"color: '+output.colorOutline+';\">'+output.colorOutline+'</span></p>');\n            $(\"#loadPreview\").append('<p>Background Name: '+output.bgname+'</p>');\n        }\n        catch(e)\n        {\n             $(\"#loadPreview\").html(\"<p style=\\\"color: red;\\\">Invalid File!</p>\"+e);\n             loadData.valid = 0;\n        }\n        \n      }\n    };\n    reader.readAsBinaryString(file);\n    }\n    \n    return {\n        loadFile : loadFile,\n    }\n})();"]],"start1":0,"start2":0,"length1":0,"length2":2396}]],"length":2396,"saved":false}
{"contributors":[],"silentsave":false,"ts":1363279846343,"patch":[[{"diffs":[[0," }\n})();"],[1,"\n\n$('#loadSave').submit(function(e) {\n    e.preventDefault();\n    \n    var files = document.getElementById('loadInput').files;\n    if (!files.length || loadData.valid == 0) {\n      UI.makeAlert('Please select a valid file!', 'red');\n      return;\n    } \n    \n    pony.colorBody = colorBody.value = loadData.colorBody;  \n    pony.colorOutline = colorOutline.value = loadData.colorOutline;  \n    pname.value = loadData.name;\n    author.value = loadData.author;   \n    background.url = loadData.bgname;\n    $('#opacity').click();\n    pony.spawnPony(pony.colorBody, pony.colorOutline);\n    \n    \n    UI.makeAlert(\"Loaded.\", \"green\");  \n    \n});"]],"start1":2388,"start2":2388,"length1":8,"length2":648}]],"length":3036,"saved":false}
